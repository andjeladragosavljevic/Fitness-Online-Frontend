<mat-toolbar class="app-toolbar">
  <button mat-button class="app-logo" [routerLink]="['/']">FitFlex</button>

  <!-- Full screen desktop menu -->
  @if(!isMobile){
  <ng-container>
    <button mat-button [routerLink]="['/exercises']">Exercises</button>
    <button mat-button [routerLink]="['/programs']">Programs</button>
    <button mat-button [routerLink]="['/my-programs']">My Programs</button>
    <button mat-button [routerLink]="['/add-program']">New Program</button>
    <button mat-button [routerLink]="['/participations']">
      My Participations
    </button>
    <button mat-button [routerLink]="['/activity-log']">Activity Log</button>
    <button mat-button [routerLink]="['/chat']">Chat</button>
    <span class="spacer"></span>

    @if(isLoggedIn){
    <button mat-icon-button [routerLink]="['/subscriptions']">
      <mat-icon>subscriptions</mat-icon>
    </button>
    <button mat-icon-button (click)="openMessageModal()">
      <mat-icon>message</mat-icon>
    </button>
    <button mat-icon-button [routerLink]="['/profile']">
      <mat-icon>person</mat-icon>
    </button>
    <button mat-icon-button (click)="onLogout()">
      <mat-icon>logout</mat-icon>
    </button>
    } @else{
    <button mat-icon-button [routerLink]="['/login']">
      <mat-icon>login</mat-icon>
    </button>
    <button mat-icon-button [routerLink]="['/registration']">
      <mat-icon>person_add</mat-icon>
    </button>
    }
  </ng-container>
  }

  <!-- Mobile menu button -->
  @if(isMobile){
  <ng-container>
    <button mat-icon-button (click)="sidenav.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
  </ng-container>
  }
</mat-toolbar>

<!-- Mobile sidenav for small screens -->
<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #sidenav
    class="sidenav"
    [mode]="isMobile ? 'over' : 'side'"
    [opened]="isMobile"
  >
    <mat-nav-list>
      <a mat-list-item [routerLink]="['/']" (click)="sidenav.close()">
        <mat-icon>home</mat-icon> Home
      </a>
      <a mat-list-item [routerLink]="['/exercises']" (click)="sidenav.close()">
        <mat-icon>fitness_center</mat-icon> Exercises
      </a>
      <a mat-list-item [routerLink]="['/programs']" (click)="sidenav.close()">
        <mat-icon>assignment</mat-icon> Programs
      </a>
      <a
        mat-list-item
        [routerLink]="['/my-programs']"
        (click)="sidenav.close()"
      >
        <mat-icon>assignment</mat-icon> My Programs
      </a>
      <a
        mat-list-item
        [routerLink]="['/add-program']"
        (click)="sidenav.close()"
      >
        <mat-icon>add_circle</mat-icon> New Program
      </a>
      <a mat-list-item routerLink="/participations" (click)="sidenav.close()">
        <mat-icon>people</mat-icon> My Participations
      </a>
      <a mat-list-item routerLink="/activity-log" (click)="sidenav.close()">
        <mat-icon>list</mat-icon> Activity Log
      </a>
      <a mat-list-item routerLink="/chat" (click)="sidenav.close()">
        <mat-icon>chat</mat-icon> Chat
      </a>
      @if(isLoggedIn){
      <a mat-list-item routerLink="/subscriptions" (click)="sidenav.close()">
        <mat-icon>subscriptions</mat-icon> Subscriptions
      </a>
      <a mat-list-item (click)="openMessageModal()">
        <mat-icon>message</mat-icon> Message to advisor
      </a>
      <a mat-list-item routerLink="/profile" (click)="sidenav.close()">
        <mat-icon>person</mat-icon> Profile
      </a>
      <a mat-list-item (click)="onLogout()">
        <mat-icon>logout</mat-icon> Logout
      </a>

      } @else {
      <a mat-list-item [routerLink]="['/login']" (click)="sidenav.close()">
        <mat-icon>login</mat-icon> Login
      </a>
      <a
        mat-list-item
        [routerLink]="['/registration']"
        (click)="sidenav.close()"
      >
        <mat-icon>person_add</mat-icon> Registration
      </a>

      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
