<app-filter (filtersApplied)="onFiltersApplied($event)"></app-filter>
<div class="program-list-container">
  <h2 class="title">Available Fitness Programs</h2>

  <div class="spinner-div" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>

  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!isLoading && !error" class="program-list">
    <div *ngFor="let program of programs" class="program-card">
      <img
        [src]="'http://localhost:8080' + program.images[0]"
        alt="{{ program.name }}"
        class="program-image"
      />
      <h3>{{ program.name }}</h3>
      <p class="price">{{ program.price | currency : "USD" : "symbol" }}</p>
      <button mat-button [routerLink]="['/programs', program.id]">
        View Details
      </button>
    </div>
  </div>

  <mat-paginator
    [length]="totalElements"
    [pageSize]="pageSize"
    [pageIndex]="currentPage"
    (page)="onPageChange($event)"
    [pageSizeOptions]="[5, 10, 25, 100]"
  ></mat-paginator>
</div>
