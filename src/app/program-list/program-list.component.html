<app-filter
  [isOwnPrograms]="false"
  (filtersApplied)="onFiltersApplied($event)"
></app-filter>
<div class="program-list-container">
  @if(isDataLoaded){
  <h2 class="title">Available Fitness Programs</h2>

  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!error" class="program-list">
    <div *ngFor="let program of programs" class="program-card">
      <img
        *ngIf="program?.images?.length ?? false"
        [src]="'http://localhost:8080' + program.images[0]"
        alt="{{ program.name }}"
        class="program-image"
      />
      <h3>{{ program.name }}</h3>
      <p class="price">{{ program.price | currency : "USD" : "symbol" }}</p>
      <button mat-button [routerLink]="['/programs', program.id]">
        View Details
      </button>
    </div>
  </div>
  } @else {
  <div class="spinner-div">
    <div class="spinner"></div>
  </div>
  }

  <mat-paginator
    [length]="length"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    (page)="onPageChange($event)"
    [pageSizeOptions]="[5, 10, 25, 100]"
  ></mat-paginator>
</div>
